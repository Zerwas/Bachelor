\section{Witts Lemma}
In this section we will prove Witt's Lemma and explore the structure of symplectic spaces. Witt's Lemma states that an isometry between subspaces of a finite dimensional vector space can always be extended to an isomtry on the whole space.  We will roughly follow the proof in \cite{Witt}. Since we are mainly interested in symplectic spaces we will only show Witt's Lemma for those but it also holds for unitary and orthogonal spaces.

\begin{definition}
A bilinear form $\omega$ on $V$ is called \define{symplectic} if $\omega$ is nondegenerate, i.e. $\omega(x,\ .\ )\not=0_V$ for all $x\in V\setminus\{0\}$, and $\omega(x,y)=-\omega(y,x)$ for all $x,y\in V$. Then we say $(V,\omega)$ is a \define{symplectic space}.

A finite group $G$ is called \define{symplectic} if there is a symplectic space $(V,\omega)$ such that $G\cong\Aut(V,\omega)$. 

A subspace $U\leq V$ is \define{nondegenerate} if $\omega$ restricted to $U$ is nondegenerate (iff $U\cap U^\bot=\{0\}$). 

%For $x,y\in V$ with $\omega(x,y)$ we will write $x\bot y$ and for a set $X\subseteq V$ define
%\[X^\bot=\{y\in V\mid \omega(x,y)=0\}.\]
\end{definition}
Throughout this section let $(V,\omega)$ be a finite dimensional symplectic $\F_q$ vector space.
Note that $\omega(x,y)=0$ iff $\omega(y,x)=0$, also $\omega(x,x)=0$ for all $x\in V$.
We will start of with some technical lemmas.


\FlorianSagt{make shortversion for each section?}
%\begin{lemma}
%For an $x\in V$ and a subspace $U\leq V$ with $x\notin U^\bot$ we have 
%\[\dim( x^\bot\cap U)= \dim U -1.\]
%\end{lemma}

\begin{lemma}\label{lem:dimUBot}
For a subspace $U\leq V$ we have 
\[\dim U^\bot= \dim V -\dim U.\]
\end{lemma}
\begin{proof}
Let $u_1,\dots,u_m$ be a basis of $U$ and consider the linear map
\begin{align*}g\colon V\to \F_q&&\text{ with }&&g(v)=
\begin{pmatrix}
\omega(v,u_1)\\
\vdots\\
\omega(v,u_m)
\end{pmatrix}.
\end{align*}
By definition the kernel of $g$ is $U^\bot$ and since $\omega$ is nondegenerate $g$ is also surjective. Therefore the claim follows from the Rank-Nullity Theorem.
\end{proof}


The following lemma is an immediate consequence of the previous one.
\begin{lemma}\label{lem:Ubotbot}
Let $U\leq V$. Then
\begin{enumerate}[label=\roman{*})]
\item $U$ is nondegenerate iff $V=U\oplus U^\bot$ and
\item $U^{\bot\bot}=U$.
\end{enumerate}
\end{lemma}
\begin{proof}
If $U$ is nondegenerate then $U\cap U^\bot=\{0\}$. By Lemma \ref{lem:dimUBot} \[U\oplus U^\bot=\langle U,U^\bot\rangle=V.\]
The other direction is clear from the definition

For $ii)$ note that $U\subseteq U^{\bot\bot}$. By Lemma \ref{lem:dimUBot} they also have the same dimension and are therefore equal.
\end{proof}

Next we want to better understand the structure of symplectic spaces. 
A symplectic space is a \define{hyperbolic plane} if it is 2-dimensional.


\begin{lemma}\label{lem:oneHypPlane}
There is only one hyperbolic plane up to isomorphism.
\end{lemma}
\begin{proof}
Let $(V,\omega)$, $(V',\omega')$ be hyperbolic planes with basis $r,s$ and $r',s'$, respectively. 
Then $r\mapsto r', s\mapsto \lambda s'$ with $\lambda=\omega'(r',s')^{-1}\cdot\omega(r,s)$ is an isomorphism. 
\end{proof}
Next we will strengthen this result and show that any symplectic space is the direct sum of hyperbolic planes.
%Next we will strengthen this result and show that any symplectic space is uniquely determined by its dimension.

\begin{theorem}\label{thm:hypDecomp}
Let $r\in V\setminus\{0\}$. Then there is a hyperbolic plane $U\leq V$ containing $r$ such that $V=U\oplus U^\bot$. Furthermore if $W\leq V$ with $W\bot r$ and $r\notin W$, then there is a $U$ as before that also fulfills $W\bot U$.
\end{theorem}
\begin{proof}
Since $\omega(r,r)=0$ we know that $r\in r^\bot$. Let $H\leq r^\bot$ containing $W$ such that $\langle r\rangle\oplus H=r^\bot$. Then, by Lemma \ref{lem:dimUBot}, $\dim r^\bot=\dim V-1$, $\dim H^\bot=2$, and $r\in H^\bot$. In particular $\dim V>1$.
Our goal is to show that \[V=H^\bot\oplus H,\] so $H^\bot$ would be a suitable choice for $U$.
It suffices to show that $H^\bot$ is nondegenerate, as then the claim follows from Lemma \ref{lem:Ubotbot}. Let $s\in H^\bot$ such that $H^\bot=\langle r,s\rangle$. Now $H^\bot$ is nondegenerate iff $\omega(r,s)\not=0$. 

Assume $\omega(r,s)=0$. Then $r\in s^\bot$ and $H\subseteq s^\bot$. Since, by construction, $r\notin H$ we have $r^\bot=\langle r,H\rangle=s^\bot$. Hence $r$ and $s$ are linearly dependent contradicting that $r,s$ is a basis of $H^\bot$.

\end{proof}

Using Theorem \ref{thm:hypDecomp} we can describe the structure of symplectic spaces.

\begin{corollary}\label{cor:structureSympl}
%The symplectic space $(V,\omega)$ is of even dimension $2n$ and can be written as the orthogonal sum of hyperbolic planes $U_1,\dots, U_n$, i.e. $V=U_1\oplus\dots\oplus U_n$.

Let $(V,\omega)$ be a symplectic space. Then $V$ is of even dimension $2n$ and there are hyperbolic planes $U_1,\dots, U_n\leq V$ such that $V=U_1\oplus\dots\oplus U_n$ and $U_i\bot U_j$ for $i\not=j$.
In particular for any $n$ there is exactly one symplectic space of dimension $2n$.
\end{corollary}
\begin{proof}
We use induction on $n=\dim V$.

If $n=1$ then $V=\langle v\rangle$ for $v\in V\setminus\{0\}$. But $\omega(v,v)=0$ and therefore $\omega$ is degenerate which is a contradiction.

If $n=2$ then the claim follows from Lemma \ref{lem:oneHypPlane}.

If $n>2$ then by Theorem \ref{thm:hypDecomp} there is a hyperbolic plane $U_1\leq V$ such that $V=U_1\oplus U_1^\bot$. Then, by induction hypothesis, $n$ is even and $U^\bot =U_2\oplus\dots \oplus U_m$ for some hyperbolic planes $U_2,\dots,U_m\leq U^\bot$ with $m=\frac{n}{2}$ and $U_i\bot U_j$ for $i\not=j$.
\end{proof}

%\begin{corollary}
%Every symplectic space is of even dimension and for any $n$ there is exactly one symplectic space of dimension $2n$.
%\end{corollary}
With these powerful tools we can easily prove Witt's Lemma.
%For the remainder of this section 
Let $\alpha\colon U\to W$ be an isometrie between subspaces $U,W\leq V$.
\begin{lemma}\label{lem:wittPrep1}
There are subspaces $U'\geq U$ and $W'\geq W$ with $U',W'$ nondegenerate such that $\alpha$ can be extended to an isometrie $\tilde{\alpha}\colon U'\to W'$.
\end{lemma}
\begin{proof}
We show this claim using induction on $n=\dim (U\cap U^\bot)$.

If $n=0$ then $U$ itself is nondegenerate and we are done.

If $n>0$ then let $r\in (U\cap U^\bot)\setminus\{0\}$ and $\tilde U\leq V$ such that $\langle r\rangle\oplus \tilde U=U$. By Theorem \ref{thm:hypDecomp} there is a hyperbolic plane $H\leq V$ containing $r$ such that $\tilde U\bot H$. 
Similarly, there is a hyperbolic plane $H'\leq V$ containing $r':=\alpha(r)$ such that $H'\bot\tilde{W}$ with $\tilde{W}=\alpha(\tilde{U})$. Let $r,s$ and $r',s'$ be a basis of $H$ and $H'$, respectively. Note that $\omega(r,s)\not=0$ and $r\bot U$ imply $s\notin U$. We can assume w.l.o.g. that $\omega(r,s)=\omega(r',s')$. Then we can extend $\alpha$ to $\tilde{\alpha}\colon \langle U,s\rangle\to \langle W,s'\rangle$ by $\tilde\alpha (s)= s'$. Note that $\langle U,s\rangle=\langle \tilde{U},H\rangle$. Since $\tilde{U}\bot H$ we have
\begin{align*}
\dim(\langle \tilde{U},H\rangle \cap \langle \tilde{U},H\rangle^\bot)&=\dim(\tilde{U}\cap \tilde{U}^\bot)<\dim(U\cap U^\bot).\\
%\tilde{\alpha}\colon \langle \tilde{U},r,s\rangle\to \langle \tilde W,r',s'\rangle
\end{align*}
Hence we can apply the induction hypothesis to $\tilde{\alpha}$.
\end{proof}

\begin{lemma}\label{lem:wittPrep2}
If $U$ is nondegenerate. Then $\alpha$ can be extended to an isometrie $\tilde{\alpha}\colon V\to V$.
\end{lemma}
\begin{proof}
Since $U$ and $W$ are nondegenerate we can apply Lemma \ref{lem:Ubotbot} and obtain \[V=U\oplus U^\bot=W\oplus W^\bot.\]
By Lemma \ref{lem:dimUBot} we have $\dim U^\bot=\dim W^\bot$. Hence, by Corollary \ref{cor:structureSympl}, there is an isometry $\beta\colon U^\bot\to W^\bot$. Finally, $\alpha\oplus \beta\colon V\to V$ is an isometry extending $\alpha$.
\end{proof}

With this preparation we can now come to the main result.
\begin{corollary}[Witt's Lemma]\label{lem:witt}
The map $\alpha$ can be extended to an isometrie $\tilde{\alpha}\colon V\to V$.
\end{corollary}
\begin{proof}
Using Lemma \ref{lem:wittPrep1} extend $\alpha$ to $\tilde{\alpha}\colon U'\to W'$ for some $U'\geq U$, $W'\geq W$ nondegenerate. Now apply Lemma \ref{lem:wittPrep2} to extend $\tilde{\alpha}$ to $\tilde{\tilde{\alpha}}\colon V\to V$.
\end{proof}

Now that we understand symplectic spaces and can extend isometries we are well equipped for the next section, where will show that $\clim \SL_{2^n}(q)$ is also extremely amenable.


\section{Limits of other Matrix group families are Levy groups too}
When studying matrices it is often useful to look at the corresponding linear maps of a suitable vector space. In the case of orthogonal, symplectic, or unitary matrices these are linear maps from the vector space to itself preserving an orthogonal, symplectic, or unitary form respectively. Formally, the symplectic group $\Sp_n(q)$ is isomorphic to $\Aut(V,\omega)$, where $V$ is an $n$-dimensional $F(q)$ vector space and $\omega$ is a symplectic form.

As we have to handle only finite dimensional vector spaces here a lot of nice theorems hold. \dots

Let $V$ be an $n$ dimensional vector space.%and e_1,...,e_n\in V a basis
\begin{lemma}\label{lem:complementExists}
For all $U\leq V$ there is an $U'\leq V$ such that $U\oplus U'=V$.
\end{lemma}


Let $\omega$ be a bilinear form on $V$.

\begin{lemma}\label{lem:dimComplement}
Let $U\leq V$. Then $\dim U^\bot= \dim V-\dim U$.
\end{lemma}
\begin{lemma}\label{lem:doubleComplement}
Let $U\leq V$. Then $U^{\bot^\bot}=U$.
\end{lemma}

\begin{lemma}\label{lem:decompositionComplement}
There exists a $U\leq V$ with $\dim U\leq 2$ such that $V=U\oplus U^\bot$.
\end{lemma}
\begin{proof}
Let $e\in V\setminus\{0\}$. By Lemma \ref{lem:dimComplement} $\dim e^\bot= n-1$. %Since $\omega$ is non degenerate $\omega(e,.)\not=0$ and therefore $e^\bot\not=V$. Hence $\dim e^\bot= n-1$.

If $e\notin e^\bot$, then $V=\langle e\rangle\oplus e^\bot$ and $\langle e\rangle$ is the desired $U$.

If $e\in e^\bot$, then extend $e$ to a basis $e,b_2,\dots,b_{n-1}$ of $e^\bot$ and consider the 2-dimensional subspace $U:=\langle b_2,\dots,b_{n-1}\rangle^\bot$. Now we have to show that \[U\cap U^\bot=0.\]
Take $v$ from the intersection. By Lemma \ref{lem:doubleComplement} $U^\bot=\langle b_2,\dots,b_{n-1}\rangle$ and $v\bot b_i$ for all $i\in\{2,\dots,n-1\}$. Since $\langle b_2,\dots,b_{n-1}\rangle\leq e^\bot$ we also have $v\bot e$. Hence $v\in e^{\bot^\bot}=\langle e\rangle$ and $v=\lambda e$. Now $e\notin \langle b_2,\dots,b_{n-1}\rangle$ implies $v=0$. Henceforth $V=U\oplus U^\bot$.
\end{proof}


\begin{lemma}\label{lem:isomStaysInCompl}
Let $U\leq V$ and $f\colon V\to V$ be an isometry such that $f|_U=1_U$. Then $f(U^\bot)= U^\bot$.
\end{lemma}
\begin{proof}
As $\dim f(U^\bot)=\dim U^\bot$ it suffices to show that $f(u')\bot u$ for all $u\in U$ and $u'\in U^\bot$.
\begin{align*}
\omega(f(u'),u)&=\omega(f(u'),f(u))\\
&=\omega(u',u)\\
&=0
\end{align*}
This concludes the proof.
\end{proof}

\begin{lemma}\label{lem:largeOrthogonal}
For all $W\leq V$ there is a $W'\leq W^\bot$ such that $W\cap W'=0$ and \[\dim W'\geq \dim V-2\dim W.\]
\end{lemma}
\begin{proof}
By Lemma \ref{lem:complementExists} there is a $W'$ such that 
\[W^\bot=(W^\bot\cap W)\oplus W'.\]
Clearly, $W\cap W'=0$ and 
\[\dim W'=\dim W^\bot - \dim (W^\bot\cap W)\geq \dim W^\bot- \dim W.\]
Whats left is to show that $\dim W^\bot\geq \dim V-\dim W$. Let $b_1,\dots, b_{\dim W}$ be a basis of $W$. Then $W^\bot$ is equal to the kernel of the linear map 
\begin{align*}
V\to F_q^{\dim W}&& v\mapsto
\begin{pmatrix}
\omega(b_1,v)\\
\vdots\\
\omega(b_{\dim W},v)
\end{pmatrix}.
\end{align*}
Now the statement follows from the rank-nullity theorem.
\end{proof}


\begin{lemma}
Let $U,W\leq V$ such that $U\bot W$ and $U\cap W=0$. Then $\langle U,W\rangle\cong U\oplus W$.
\end{lemma}
\begin{lemma}\label{lem:isomSum}\FlorianSagt{maybe $g\colon U_1\to U_2$ and $h\colon W_1\to W_2$ better}
Let $g_1\colon U_1\to W_1$ and $g_2\colon U_2\to W_2$ be isometries such that $U_1\bot U_2$, $U_1\cap U_2=0$, $W_1\bot W_2$, and $W_1\cap W_2=0$.
Then $g_1\oplus g_2\colon U_1\oplus U_2\to W_1\oplus W_2$ is also an isomtry.
\end{lemma}
\begin{proof}
Obviously, $g_1\oplus g_2$ is again a bijective linear map. Consider $v_1+v_2, u_1+u_2\in U_1\oplus U_2$
\begin{align*}
\omega(v_1+v_2, u_1+u_2)&=\omega(v_1, u_1)+\omega(v_1, u_2)+\omega(v_2, u_1)+\omega(v_2, u_2)\\
&=\omega(v_1, u_1)+0+0+\omega(v_2, u_2) \tag{$U_1\bot U_2$}\\
&=\omega(g_1(v_1), g_1(u_1))+\omega(g_2(v_2), g_2(u_2))\\
&=\omega(g_1(v_1), g_1(u_1))+\omega(g_1(v_1), g_2(u_2))\\ &\phantom{={}}+\omega(g_2(v_2), g_1(u_1))+\omega(g_2(v_2), g_2(u_2))\tag{$W_1\bot W_2$}\\
&=\omega(g_1\oplus g_2(v_1+v_2), g_1\oplus g_2(u_1+u_2))
\end{align*}
Hence $g_1\oplus g_2$ preserves $\omega$.
\end{proof}

[other useful theorems]


\begin{theorem}[Witt]
Let $V$ be an orthogonal, symplectic, or unitary space. Let $U$ and $W$ be subspaces of $V$ and suppose $\alpha\colon U\to W$ is an isometry. Then $\alpha$ extends to an isometry of $V$.
\end{theorem}

\begin{lemma}
Let $G$ be an orthogonal, symplectic, or unitary group. \dots
\end{lemma}
\begin{proof}
$G=\Aut(V,\omega)$ for some vector space $V$ with  bilinear form $\omega$. Use Lemma \ref{lem:decompositionComplement} to obtain $U\leq V$ such that $V=U\oplus U^\bot$ and $\dim U\leq2$. Define $H=\Aut(U^\bot,\omega)$. Our aim is to find for any $g\in G$ an $g'\in H$ such that $d(g,g')\leq\frac{8}{n}$.
The idea is to find a map $h\in H$ that behaves like the inverse of $g$ on $gU$ and like the identity on most of the rest. Then $hg$ is the desired $g'$.

Let $g\in G$ and define $W=\langle U,gU\rangle$. By Lemma \ref{lem:largeOrthogonal} there is a $W'$ such that $\dim W'\geq n-8$, $W'\leq W^\bot$, and $W'\cap W=0$. Consider the map
\begin{align*}
 g^{-1}|_{gU}\oplus 1_{W'}\colon gU\oplus W'\to U\oplus W'
\end{align*}
as $g^{-1}|_{gU}$ and $1_{W'}$ are isometries and $W\bot W'$ Lemma \ref{lem:isomSum} implies that the above map is also an isomtry. By Witt's lemma this isometry can be extended to an isometry $h\colon V\to V$. 
\begin{align*}
n\cdot d(g,hg)&=\dim\im (g-hg)\\
&\leq 8+\dim \im(g-hg)|_{W'}\tag{$\dim W'\geq n-8$}\\
&= 8+\dim \im(g-g)|_{W'}\tag{$h|_{W'}=1_{W'}$}\\
&=8
\end{align*}
Finally, we need to show that $hg\in H$, here the choice of $H$ using Lemma \ref{lem:decompositionComplement} comes into play. By construction of $h$ we have that $hg|_U=1_U$. Therefore we can apply Lemma \ref{lem:isomStaysInCompl} and get that $hg(U^\bot)= U^\bot$. Hence $hg\in H$ and $d(g,hg)\leq\frac{8}{n}$.

\end{proof}